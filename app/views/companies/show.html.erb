<h1>
  <% if @company.logo.attached? %>
    <%= image_tag @company.logo, style: "max-height: 48px; max-width: 96px; vertical-align: middle;" %>
  <% end %>
  <%= @company.display_name %>
</h1>

<dl>
  <% if @company.commercial_name.present? && @company.legal_name != @company.commercial_name %>
    <dt><strong>Legal Name</strong></dt>
    <dd><%= @company.legal_name %></dd>
  <% end %>

  <% if @company.industry.present? %>
    <dt><strong>Industry</strong></dt>
    <dd><%= @company.industry %></dd>
  <% end %>

  <% if @company.location.present? %>
    <dt><strong>Location</strong></dt>
    <dd><%= @company.location %></dd>
  <% end %>

  <% if @company.website.present? %>
    <dt><strong>Website</strong></dt>
    <dd><%= link_to @company.website, @company.website, target: "_blank" %></dd>
  <% end %>

  <% if @company.description.present? %>
    <dt><strong>Description</strong></dt>
    <dd><%= @company.description %></dd>
  <% end %>

  <% if @company.web_enriched_at.present? %>
    <dt><strong>Web Enriched</strong></dt>
    <dd><%= @company.web_enriched_at.strftime("%B %d, %Y") %></dd>
  <% end %>
</dl>

<h2>Contacts (<%= @contacts.count %>)</h2>

<% if @contacts.any? %>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Job Role</th>
      </tr>
    </thead>
    <tbody>
      <% @contacts.each do |contact| %>
        <tr>
          <td><%= contact.name.presence || "(No name)" %></td>
          <td><%= contact.email %></td>
          <td><%= contact.job_role %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No contacts linked to this company yet.</p>
<% end %>

<p><%= link_to "Back to companies", companies_path %></p>
